Баланс: 100
Отправляем 2 параллельных запроса:

curl -X POST /transfer -d '{"user_id":1,"amount":100}' &
curl -X POST /transfer -d '{"user_id":1,"amount":100}' &

Оба проходят check.
Двойное списание.

В реальности — через Burp Intruder или параллельные потоки.